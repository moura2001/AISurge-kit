<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clinical Staff Credentialing Application</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/country-select-js/2.0.1/css/countrySelect.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.12/css/intlTelInput.min.css">
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-beta.1/css/select2.min.css" rel="stylesheet">
<link rel="icon" href="https://i.postimg.cc/NjRpXSm3/favicon-438.png" target="_blank" type="image/png" sizes="512x512">

    <style>
        body {
background: url('https://th.bing.com/th/id/R.7dfa90c75a9df4362204e68f095be3a6?rik=viZCBEII3WZJyw&pid=ImgRaw&r=0');
            background-repeat: repeat;
            background-attachment: fixed;
            background-size: cover;
        }

        .form-container {
            max-width: 1000px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(to bottom, #0079BF, white);
            background-color: rgba(240, 240, 240, 0.5); /* Semi-transparent background */
            border-radius: 10px;
        }

        .form-section {
            margin-bottom: 20px;
        }

        .section-header {
            cursor: pointer;
            font-weight: bold;
            font-size: 23px;
        }

        .section-content {
            display: none;
            margin-top: 10px;
        }

        .expanded .section-content {
            display: block;
        }

        .section-header::after {
            content: "\25B6"; /* Unicode character for right arrow */
            margin-left: 5px;
        }

        .expanded .section-header::after {
            content: "\25BC"; /* Unicode character for down arrow */
        }

        .credentialing-form label {
            font-weight: bold;
        }

        .hidden {
            display: none;
        }

        .credentialing-form input[type="text"],
        .credentialing-form input[type="email"],
        .credentialing-form input[type="tel"],
        .credentialing-form input[type="password"],
        .credentialing-form select,
        .credentialing-form textarea {
            width: 97%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .credentialing-form button {
            background-color: #0e75b0;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .credentialing-form button:hover {
            opacity: 0.8;
        }

.required::after {
  content: " *";
  color: red;
}  


.modal {
            display: none; /* Hide modal by default */
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4); /* Overlay background */

        }
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 60%;

        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
.modal-button  {
            background-color: #0e75b0;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

    </style>
  
</head>
<body>
<div class="form-container">
    <div class="credentialing-form">
        <form id="yourForm" action="/submit_recep" method="post" enctype="multipart/form-data"> <!-- Add the form tag here -->

        <h1>Receptionist Sign Up</h1>

        

        <div class="form-section">
            <label for="full-name" class="required" >Full Name:</label>

        <input type="text" id="full-name" name="full-name" placeholder="Enter Full Name" required>
                <label for="phone" class="required">Phone:</label>
<input type="tel" id="phone-drop" name="phone-drop" placeholder="Enter phone" required><br>
                <label for="email" class="required">Email:</label>
                <input type="email" id="email" name="email" placeholder="Enter Email" required>
<label for="password" class="required">Password:</label>
                <input type="password" id="password" name="password" placeholder="Enter Password" required>
                <label for="country-location" class="required">Country:</label>
<input type="text" id="country-location" name="country-location" required><br><br>

                <label for="address" class="required">Address:</label>
                <input type="text" id="address" name="address" placeholder="Enter Address" required>
<label for="national-id" class="required" >National ID:</label>

        <input type="text" id="national-id" name="national-id" placeholder="Enter National ID" required>

 <label for="age" class="required">Age:</label>
                <input type="number" id="age" name="age" value="30" min="25" max="90" required><br><br>

<label for="gender" class="required">Gender:</label><br>
    <input type="radio" id="male" name="gender" value="male" required>
    <label for="male" >Male</label>
    <input type="radio" id="female" name="gender" value="female" required>
    <label for="female" >Female</label><br><br>
<label for="marital-status" class="required">Marital Status:</label><br>
    <select id="marital-status" name="marital-status" style="width: 150px;" required>
    <option value="" disabled selected>Choose</option>

        <option value="single">Single</option>
        <option value="married">Married</option>
        <option value="divorced">Divorced</option>
        <option value="separated">Separated</option>
        <option value="widowed">Widowed</option>
    </select><br><br>
<button type="submit">Submit</button>

            </div>
        </div>


        </form>
    </div>

<div id="myModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Please capture a screenshot of this screen for future reference, as the provided ID will be required for logging in.</h3> <!-- Title for the modal -->
        </div>
        <div class="modal-body">
            <h3 id="modal-text"></h3> <!-- Text for the ID -->
        </div>
        <div class="modal-footer">
            <button class="modal-button" id="nextBtn">Next</button> <!-- Button for redirecting -->

        </div>
    </div>
</div>
<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Bootstrap JS (requires jQuery) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- Country Select JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/country-select-js/2.0.1/js/countrySelect.min.js"></script>

<!-- Select2 JS (optional, if you're using it) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-beta.1/js/select2.min.js"></script>

<!-- Intl Tel Input JS (optional, if you're using it) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.12/js/intlTelInput.min.js"></script>

<script>
var countryCodeSelect = document.getElementById("phone-drop");

// Initialize intlTelInput
var iti = window.intlTelInput(countryCodeSelect, {
  separateDialCode: true,
  initialCountry: "auto",
  geoIpLookup: function(callback) {
    $.get("https://ipinfo.io", function() {}, "jsonp").always(function(resp) {
      var countryCode = (resp && resp.country) ? resp.country : "";
      callback(countryCode);
    });
  }
});

// Populate the select element with country options
var countryData = iti.getSelectedCountryData();
countryCodeSelect.innerHTML = "<option value='" + countryData.dialCode + "'>" + countryData.name + "</option>";

iti.promise.then(function() {
  countryCodeSelect.addEventListener("countrychange", function() {
    var countryData = iti.getSelectedCountryData();
    countryCodeSelect.innerHTML = "<option value='" + countryData.dialCode + "'>" + countryData.name + "</option>";
  });
});
document.addEventListener("DOMContentLoaded", function() {

var radioButtons = document.querySelectorAll('input[type="radio"][name="gender"]');

    radioButtons.forEach(function(radioButton) {
        radioButton.addEventListener("change", function() {
            // Disable other radio buttons when one is selected
            radioButtons.forEach(function(btn) {
                if (btn !== radioButton) {
                    btn.disabled = radioButton.checked;
                }
            });
        });
    });

});

$(document).ready(function() {
    $("#country-location").countrySelect();
});

function toggleSection(sectionId) {
        var section = document.getElementById(sectionId);
        if (section.style.display === "none") {
            section.style.display = "block";
            section.classList.add("expanded");
        } else {
            section.style.display = "none";
            section.classList.remove("expanded");
        }
    }


    function toggleSubsection(subsectionId) {
        var subsection = document.getElementById(subsectionId);
        if (subsection.style.display === "none") {
            subsection.style.display = "block";
            subsection.classList.add("expanded");
        } else {
            subsection.style.display = "none";
            subsection.classList.remove("expanded");
        }
    }
$(document).ready(function() {
    $('#yourForm').submit(function(event) {
        event.preventDefault();  // Prevent the default form submission

        // Manually submit the form
        this.submit();

        // Get the national ID from the form
        var nationalId = $('#national-id').val();

        // Call showModal after a brief delay to allow time for form submission
        setTimeout(function() {
$.ajax({
        url: '/get_recep_id',
        type: 'GET',
        data: { 'national-id': nationalId },
        success: function(response) {
            if (response.error) {
                alert(response.error);
            } else {
                $('#modal-text').text('Your unique ID is: ' + response.uniqueId);
                var modal = $('#myModal');
                modal.show();

                // Close modal on click outside or close button
               // Add click event listener to the Next button
                    $('#nextBtn').click(function() {
                        window.location.href = '/login'; // Redirect to the login page
                    });
              }
        },
        error: function(xhr, status, error) {
            console.error('Error fetching unique ID:', error);
            alert('An error occurred while fetching the unique ID. Please try again.');
        }
    });
        }, 1000); // Adjust the delay time as needed
    });
});

</script>
</body>
</html>

